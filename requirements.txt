-- ⏱️ RSpy – Hiển thị các Remote có tham số là thời gian (giây) lên màn hình
local Players = game:GetService("Players")
local lp = Players.LocalPlayer

-- Tạo GUI hiển thị log
local gui = Instance.new("ScreenGui", lp:WaitForChild("PlayerGui"))
gui.Name = "RSpyTimeLogger"
gui.ResetOnSpawn = false

local label = Instance.new("TextLabel")
label.Parent = gui
label.Size = UDim2.new(1, 0, 0, 120)
label.Position = UDim2.new(0, 0, 0.8, 0)
label.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
label.BackgroundTransparency = 0.2
label.TextColor3 = Color3.fromRGB(255, 255, 0)
label.TextScaled = true
label.TextWrapped = true
label.Font = Enum.Font.Code
label.Text = "🕒 Đang theo dõi Remote có giây..."

-- Hook metatable
local mt = getrawmetatable(game)
setreadonly(mt, false)
local oldNamecall = mt.__namecall

mt.__namecall = newcclosure(function(self, ...)
	local method = getnamecallmethod()
	local args = { ... }

	if (method == "FireServer" or method == "InvokeServer")
		and typeof(self) == "Instance"
		and (self:IsA("RemoteEvent") or self:IsA("RemoteFunction")) then

		for i, arg in ipairs(args) do
			if typeof(arg) == "number" and arg >= 0.05 and arg <= 60 then
				local text = "⏱️ " .. self.ClassName .. ": " .. self:GetFullName()
				text = text .. "\n🟨 Arg["..i.."] = " .. tostring(arg) .. " (giây?)"
				label.Text = text
				break
			end
		end
	end

	return oldNamecall(self, ...)
end)

print("✅ RSpy Giây đang chạy.")
