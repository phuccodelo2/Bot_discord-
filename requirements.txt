-- ğŸ” RSpy Logger Ä‘Æ¡n giáº£n
local RemoteTypes = {
	"RemoteEvent",
	"RemoteFunction"
}

local function isRemote(obj)
	for _, t in ipairs(RemoteTypes) do
		if obj:IsA(t) then
			return true
		end
	end
	return false
end

-- Hook Ä‘á»ƒ log khi gá»i FireServer / InvokeServer
for _, v in pairs(getgc(true)) do
	if typeof(v) == "function" and islclosure(v) and not is_synapse_function(v) then
		local info = debug.getinfo(v)
		local constants = debug.getconstants(v)

		if table.find(constants, "FireServer") or table.find(constants, "InvokeServer") then
			hookfunction(v, function(...)
				local args = {...}
				local self = args[1]
				if typeof(self) == "Instance" and isRemote(self) then
					warn("ğŸ“¡ [" .. self.ClassName .. "] " .. self:GetFullName())
					for i = 2, #args do
						warn("  Arg[" .. (i - 1) .. "]:", args[i])
					end
				end
				return v(...)
			end)
		end
	end
end

print("âœ… RSpy Logger Ä‘Ã£ hoáº¡t Ä‘á»™ng. Cháº¡m nÃºt cá»­a Ä‘á»ƒ xem log.")
